{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.routing.ts","./src/app/current-conditions/current-conditions.component.ts","./src/app/forecasts-list/forecasts-list.component.ts","./src/app/location.service.ts","./src/app/main-page/main-page.component.ts","./src/app/services/cache.service.ts","./src/app/services/forecast-cache.service.ts","./src/app/services/location-cache.service.ts","./src/app/tab/tab.component.ts","./src/app/tabs/tabs.component.ts","./src/app/weather.service.ts","./src/app/zipcode-entry/zipcode-entry.component.ts","./src/environments/environment.ts","./src/main.ts","./src/app/app.component.css","./src/app/current-conditions/current-conditions.component.css","./src/app/forecasts-list/forecasts-list.component.css","./src/app/tab/tab.component.css","./src/app/tabs/tabs.component.css"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n    constructor() {\n\n    }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { ZipcodeEntryComponent } from './zipcode-entry/zipcode-entry.component';\nimport {LocationService} from \"./location.service\";\nimport { ForecastsListComponent } from './forecasts-list/forecasts-list.component';\nimport {WeatherService} from \"./weather.service\";\nimport { CurrentConditionsComponent } from './current-conditions/current-conditions.component';\nimport { MainPageComponent } from './main-page/main-page.component';\nimport {RouterModule} from \"@angular/router\";\nimport {routing} from \"./app.routing\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\nimport {TabComponent} from './tab/tab.component';\nimport {TabsComponent} from './tabs/tabs.component';\nimport {LocationCacheService} from './services/location-cache.service';\nimport {ForecastCacheService} from './services/forecast-cache.service';\n\n// @ts-ignore\n@NgModule({\n  bootstrap: [AppComponent],\n  declarations: [\n    AppComponent,\n    ZipcodeEntryComponent,\n    ForecastsListComponent,\n    CurrentConditionsComponent,\n    MainPageComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpClientModule,\n    RouterModule,\n    routing,\n    ServiceWorkerModule.register('/ngsw-worker.js', {enabled: environment.production}),\n    TabComponent,\n    TabsComponent,\n    ReactiveFormsModule,\n  ],\n  providers: [LocationService, WeatherService, LocationCacheService, ForecastCacheService]\n})\nexport class AppModule { }\n","import { ModuleWithProviders }  from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {ForecastsListComponent} from \"./forecasts-list/forecasts-list.component\";\nimport {MainPageComponent} from \"./main-page/main-page.component\";\n\nconst appRoutes: Routes = [\n  {\n    path: '', component: MainPageComponent\n  },\n  {\n    path: 'forecast/:zipcode', component: ForecastsListComponent\n  }\n];\nexport const routing: ModuleWithProviders<any> = RouterModule.forRoot(appRoutes, {});\n","import {ChangeDetectionStrategy, Component, computed, effect, inject, OnDestroy, OnInit} from '@angular/core';\nimport {WeatherService} from '../weather.service';\nimport {LocationService} from '../location.service';\nimport {debounceTime, distinctUntilChanged, takeUntil} from 'rxjs/operators';\nimport {Subject} from 'rxjs';\nimport {LocationCacheService} from '../services/location-cache.service';\nimport {ForecastCacheService} from '../services/forecast-cache.service';\nimport {FormControl} from '@angular/forms';\nimport {CacheService} from '../services/cache.service';\n\n@Component({\n  selector: 'app-current-conditions',\n  templateUrl: './current-conditions.component.html',\n  styleUrls: ['./current-conditions.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CurrentConditionsComponent implements OnDestroy, OnInit {\n  weatherService = inject(WeatherService);\n  protected locationService = inject(LocationService);\n  protected locationCacheService = inject(LocationCacheService);\n  protected forecastCacheService = inject(ForecastCacheService);\n\n  locationFormControl = new FormControl(this.locationCacheService.seconds);\n  forecastFormControl = new FormControl(this.forecastCacheService.seconds);\n\n  private destroy$: Subject<void> = new Subject<void>();\n\n  // Computed property to get current conditions for all locations\n  conditions = computed(() => {\n    const locations = this.locationService.locations();\n    return locations\n      .map(zip => {\n        const { isShow, conditions } = this.locationCacheService.getItemValue(zip);\n        return isShow ? { zip, data: conditions } : null;\n      })\n      .filter(item => item !== null);\n  });\n\n  constructor() {\n    this.setInitialLocatonFromCache();\n\n    // Effect to load current conditions when a new location is added\n    effect(() => {\n      const zipCode = this.locationService.addLocationSignal();\n      if (zipCode) {\n        this.weatherService.addCurrentConditionsObservable(zipCode).subscribe(() => this.locationService.addLocation(zipCode));\n      }\n    }, {allowSignalWrites: true});\n  }\n\n  ngOnInit(): void {\n    this.setupFormControl(this.locationFormControl, this.locationCacheService);\n    this.setupFormControl(this.forecastFormControl, this.forecastCacheService);\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n    this.locationService.resetSignalsValue();\n  }\n\n  removeLocation(zip: string) {\n    this.locationService.removeLocation(zip);\n    this.locationCacheService.switchShow(zip, false);\n  }\n\n  // Setup form control behavior to update cache service based on form value changes\n  private setupFormControl(formControl: FormControl, cacheService: CacheService<any>) {\n    formControl.valueChanges.pipe(\n      takeUntil(this.destroy$),\n      distinctUntilChanged(),\n      debounceTime(500)\n    ).subscribe(value => cacheService.seconds = value);\n  }\n\n  private setInitialLocatonFromCache() {\n    const actualValueFromCache = this.locationCacheService.getData()\n      .filter(value => value.value.isShow)\n      .map(value => <string>value.key);\n    this.locationService.locations.set(actualValueFromCache);\n  }\n}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {WeatherService} from '../weather.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {Forecast} from './forecast.type';\nimport {switchMap} from 'rxjs/operators';\nimport {Observable} from 'rxjs';\n\n@Component({\n  selector: 'app-forecasts-list',\n  templateUrl: './forecasts-list.component.html',\n  styleUrls: ['./forecasts-list.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ForecastsListComponent {\n  forecast$: Observable<Forecast>;\n\n  constructor(protected weatherService: WeatherService, route : ActivatedRoute) {\n    this.forecast$ = route.params.pipe(switchMap(params => weatherService.getForecast(params['zipcode'])));\n  }\n}\n","import {Injectable, signal} from '@angular/core';\n\n@Injectable()\nexport class LocationService {\n  locations = signal<string[]>([]);\n  addLocationSignal = signal<string>(null);\n\n  requestAddLocation(zipcode : string) {\n    if (this.locations().includes(zipcode)) {\n      return;\n    }\n    this.addLocationSignal.set(zipcode);\n  }\n\n  addLocation(zipcode: string) {\n    this.locations.update(value => [...value, zipcode]);\n  }\n\n  removeLocation(zipcode : string) {\n    this.locations.update(value => value.filter(item => item !== zipcode));\n    this.addLocationSignal.set(null);\n  }\n\n  resetSignalsValue() {\n    this.addLocationSignal.set(null);\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-main-page',\n  templateUrl: './main-page.component.html'\n})\nexport class MainPageComponent {\n\n}\n","import {Injectable} from '@angular/core';\nimport {ValueWithExpiry} from '../value-with-expiry.type';\nimport {Observable, of} from 'rxjs';\nimport {tap} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport abstract class CacheService<TItem> {\n  protected abstract _seconds: number;\n\n  get seconds(): number {\n    return this._seconds;\n  }\n\n  set seconds(value: number | string) {\n    this._seconds = +value;\n  }\n\n  protected constructor(protected storageKey: string) {\n    this.cleanExpiredData(storageKey);\n  }\n\n  setData(data: TItem[]) {\n    const transformLocalStorage = data.map((value)=> this.transformToCacheItem(value, this.storageKey));\n    localStorage.setItem(this.storageKey, JSON.stringify(transformLocalStorage));\n  }\n\n  addData(item: TItem, key: string | number): void {\n    if (!item) {\n      return;\n    }\n    const currentData: ValueWithExpiry<TItem>[] = JSON.parse(localStorage.getItem(this.storageKey)) || [];\n    const index = currentData.findIndex(cacheItem => cacheItem.key === key);\n    const newCacheItem = this.transformToCacheItem(item, key);\n\n    if (index !== -1) {\n      currentData[index] = newCacheItem;\n    } else {\n      currentData.push(newCacheItem);\n    }\n\n    localStorage.setItem(this.storageKey, JSON.stringify(currentData));\n  }\n\n  removeData(key: string | number): void {\n    const currentData: ValueWithExpiry<TItem>[] = JSON.parse(localStorage.getItem(this.storageKey)) || [];\n    const index = currentData.findIndex(cacheItem => cacheItem.key === key);\n\n    if (index !== -1) {\n      currentData.splice(index, 1);\n    }\n\n    localStorage.setItem(this.storageKey, JSON.stringify(currentData));\n  }\n\n  getData(): ValueWithExpiry<TItem>[] {\n    return JSON.parse(localStorage.getItem(this.storageKey)) ?? [];\n  }\n\n  getItemValue(key: string): TItem {\n    return this.getData()?.find((value) => value.key === key)?.value;\n  }\n\n  getNonExpiredItem(key: string): TItem {\n    return this.getData().find((value) => value.key === key && this.isDateValid(value.expiration))?.value;\n  }\n\n  getDataOrFetch(request: Observable<TItem>, key: string): Observable<TItem> {\n    const validData = this.getNonExpiredItem(key)\n    if (validData) {\n      return of(validData);\n    }\n    return request.pipe(tap((value) => this.addData(value, key)));\n  }\n\n  private isDateValid(expiration: number): boolean {\n    return expiration > new Date().getTime();\n  }\n\n  private transformToCacheItem(value:TItem, key: string | number): ValueWithExpiry<TItem> {\n    return {\n      key,\n      value,\n      expiration: new Date().getTime() + this.seconds,\n    }\n  }\n\n  private cleanExpiredData(storageKey: string): void {\n    const validDate = this.getData().filter((value) => this.isDateValid(value.expiration));\n    localStorage.setItem(storageKey, JSON.stringify(validDate));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {CacheService} from './cache.service';\nimport {Forecast} from '../forecasts-list/forecast.type';\n\n@Injectable()\nexport class ForecastCacheService extends CacheService<Forecast>{\n    protected _seconds = 7200 * 1000; //2hour\n\n    constructor() {\n        super('FORECAST');\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {CacheService} from './cache.service';\nimport {LocationCacheType} from './location-cache.type';\nimport {Observable, of} from 'rxjs';\nimport {tap} from 'rxjs/operators';\nimport {CurrentConditions} from '../current-conditions/current-conditions.type';\n\n@Injectable()\nexport class LocationCacheService extends CacheService<LocationCacheType>{\n  protected _seconds = 7200 * 1000; //2hour\n\n  constructor() {\n    super('LOCATIONS');\n  }\n\n  switchShow(zip: string, isShow: boolean) {\n    const updatedData = this.getData().map(item =>\n      item.key === zip ? { ...item, value: { ...item.value, isShow } } : item\n    );\n    localStorage.setItem(this.storageKey, JSON.stringify(updatedData));\n  }\n\n  getMapDataOrFetch(request: Observable<CurrentConditions>, key: string): Observable<CurrentConditions> {\n    const validData = this.getNonExpiredItem(key);\n\n    if (validData) {\n      this.switchShow(key, true);\n      return of(validData.conditions);\n    }\n\n    return request.pipe(tap((value) => this.addData({conditions: value, isShow: true}, key)));\n  }\n}\n","import {ChangeDetectionStrategy, Component, Input, TemplateRef} from '@angular/core';\n\n@Component({\n  selector: 'app-tab',\n  standalone: true,\n  templateUrl: './tab.component.html',\n  styleUrl: './tab.component.css',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TabComponent<TContent> {\n  @Input() titleTemplateRef!: TemplateRef<TContent>;\n  @Input() bodyTemplateRef!: TemplateRef<TContent>;\n  @Input() content?: TContent;\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  EventEmitter, inject,\n  OnDestroy,\n  Output,\n  QueryList\n} from '@angular/core';\nimport {TabComponent} from '../tab/tab.component';\nimport {NgForOf, NgIf, NgTemplateOutlet} from '@angular/common';\nimport {Subject} from 'rxjs';\nimport {filter, takeUntil} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-tabs',\n  standalone: true,\n  imports: [\n    NgForOf,\n    NgTemplateOutlet,\n    NgIf\n  ],\n  templateUrl: './tabs.component.html',\n  styleUrl: './tabs.component.css',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TabsComponent<TContent> implements AfterContentInit, OnDestroy {\n  @ContentChildren(TabComponent) tabs!: QueryList<TabComponent<TContent>>;\n  @Output() tabClose = new EventEmitter<TContent>();\n  protected cdf = inject(ChangeDetectorRef);\n\n  activeComponent!: TabComponent<TContent>;\n\n  destroy$ = new Subject();\n\n  ngAfterContentInit() {\n    // Subscribe to changes in the tabs QueryList\n    this.tabs.changes.pipe(\n        takeUntil(this.destroy$),\n        filter(() => this.tabs.length > 0)\n    ).subscribe(() => this.ensureActiveTab());\n\n    // Ensure there is an active tab initially if tabs are already present\n    if (this.tabs.length > 0) {\n      this.ensureActiveTab();\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  activateTab(tab: TabComponent<TContent>) {\n    this.activeComponent = tab;\n  }\n\n  closeTab(tab: TabComponent<TContent>, index: number) {\n    this.tabClose.emit(tab.content);\n\n    const tabsArray = this.tabs.toArray();\n    tabsArray.splice(index, 1);\n    this.tabs.reset(tabsArray);\n\n    if (this.activeComponent === tab) {\n      this.activeComponent = this.tabs.first || null;\n    }\n\n    this.cdf.markForCheck();\n  }\n\n  // Method to ensure there is an active tab\n  private ensureActiveTab() {\n    if (!this.activeComponent) {\n      this.activateTab(this.tabs.first);\n    }\n    this.cdf.markForCheck();\n  }\n}\n","import {inject, Injectable} from '@angular/core';\nimport {Observable, of} from 'rxjs';\n\nimport {HttpClient} from '@angular/common/http';\nimport {CurrentConditions} from './current-conditions/current-conditions.type';\nimport {Forecast} from './forecasts-list/forecast.type';\nimport {ForecastCacheService} from './services/forecast-cache.service';\nimport {LocationCacheService} from './services/location-cache.service';\nimport {catchError} from 'rxjs/operators';\n\n@Injectable()\nexport class WeatherService {\n  private static readonly URL = 'https://api.openweathermap.org/data/2.5';\n  private static readonly APPID = '5a4b2d457ecbef9eb2a71e480b947604';\n  private static readonly ICON_URL = 'https://raw.githubusercontent.com/udacity/Sunshine-Version-2/sunshine_master/app/src/main/res/drawable-hdpi/';\n  protected locationService = inject(LocationCacheService);\n  protected forecastService = inject(ForecastCacheService);\n  protected http = inject(HttpClient);\n\n  addCurrentConditionsObservable(zipcode: string):Observable<CurrentConditions> {\n    // Here we make a request to get the current conditions data from the API. Note the use of backticks and an expression to insert the zipcode\n    const request = this.http.get<CurrentConditions>(`${WeatherService.URL}/weather?zip=${zipcode},us&units=imperial&APPID=${WeatherService.APPID}`)\n      .pipe(catchError(() => of(null)));\n    return this.locationService.getMapDataOrFetch(request, zipcode);\n  }\n\n  getForecast(zipcode: string): Observable<Forecast> {\n    // Here we make a request to get the forecast data from the API. Note the use of backticks and an expression to insert the zipcode\n    const request = this.http.get<Forecast>(`${WeatherService.URL}/forecast/daily?zip=${zipcode},us&units=imperial&cnt=5&APPID=${WeatherService.APPID}`);\n    return this.forecastService.getDataOrFetch(request, zipcode);\n  }\n\n  getWeatherIcon(id: number): string {\n    if (id >= 200 && id <= 232)\n      return WeatherService.ICON_URL + \"art_storm.png\";\n    else if (id >= 501 && id <= 511)\n      return WeatherService.ICON_URL + \"art_rain.png\";\n    else if (id === 500 || (id >= 520 && id <= 531))\n      return WeatherService.ICON_URL + \"art_light_rain.png\";\n    else if (id >= 600 && id <= 622)\n      return WeatherService.ICON_URL + \"art_snow.png\";\n    else if (id >= 801 && id <= 804)\n      return WeatherService.ICON_URL + \"art_clouds.png\";\n    else if (id === 741 || id === 761)\n      return WeatherService.ICON_URL + \"art_fog.png\";\n    else\n      return WeatherService.ICON_URL + \"art_clear.png\";\n  }\n}\n","import {ChangeDetectionStrategy, Component, inject} from '@angular/core';\nimport {LocationService} from \"../location.service\";\n\n@Component({\n  selector: 'app-zipcode-entry',\n  templateUrl: './zipcode-entry.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ZipcodeEntryComponent {\n  locationService = inject(LocationService);\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.weather-container {\n  display: flex;\n  padding: 2rem;\n  align-items: center;\n  justify-content: space-between;\n  background: #f7f7f7;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/current-conditions/current-conditions.component.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,mBAAmB;AACrB\",\"sourcesContent\":[\".weather-container {\\n  display: flex;\\n  padding: 2rem;\\n  align-items: center;\\n  justify-content: space-between;\\n  background: #f7f7f7;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.icon {\n  width: 45px;\n  height: 45px;\n  position: absolute;\n  right: 20px;\n  top: -2px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/forecasts-list/forecasts-list.component.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX\",\"sourcesContent\":[\".icon {\\n  width: 45px;\\n  height: 45px;\\n  position: absolute;\\n  right: 20px;\\n  top: -2px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.tab-header {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    position: relative;\n    gap: 5px;\n}\n\n.tab-item {\n    display: flex;\n    padding: 5px;\n    cursor: pointer;\n    background: #2e6da4;\n    border: 3px solid #2e6da4;\n    color: #ffffff;\n    align-items: center;\n}\n\n.tab-item.active {\n    border-bottom: 3px solid #1c2157;\n}\n\n.tab-item:not(.active):hover {\n    border-bottom: 3px solid #ccc;\n}\n\n.tab-body {\n    border: 1px solid #232b38;\n}\n\n.tab-close {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 15px;\n    height: 25px;\n    width: 25px;\n}\n\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/tabs/tabs.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,QAAQ;AACZ;;AAEA;IACI,aAAa;IACb,YAAY;IACZ,eAAe;IACf,mBAAmB;IACnB,yBAAyB;IACzB,cAAc;IACd,mBAAmB;AACvB;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,6BAA6B;AACjC;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,mBAAmB;IACnB,YAAY;IACZ,WAAW;AACf\",\"sourcesContent\":[\".tab-header {\\n    display: flex;\\n    flex-wrap: wrap;\\n    align-items: center;\\n    position: relative;\\n    gap: 5px;\\n}\\n\\n.tab-item {\\n    display: flex;\\n    padding: 5px;\\n    cursor: pointer;\\n    background: #2e6da4;\\n    border: 3px solid #2e6da4;\\n    color: #ffffff;\\n    align-items: center;\\n}\\n\\n.tab-item.active {\\n    border-bottom: 3px solid #1c2157;\\n}\\n\\n.tab-item:not(.active):hover {\\n    border-bottom: 3px solid #ccc;\\n}\\n\\n.tab-body {\\n    border: 1px solid #232b38;\\n}\\n\\n.tab-close {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    border-radius: 15px;\\n    height: 25px;\\n    width: 25px;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Component","AppComponent","constructor","_","__decorate","selector","template","__NG_CLI_RESOURCE__0","BrowserModule","NgModule","FormsModule","ReactiveFormsModule","ZipcodeEntryComponent","LocationService","ForecastsListComponent","WeatherService","CurrentConditionsComponent","MainPageComponent","RouterModule","routing","HttpClientModule","ServiceWorkerModule","environment","TabComponent","TabsComponent","LocationCacheService","ForecastCacheService","AppModule","bootstrap","declarations","imports","register","enabled","production","providers","appRoutes","path","component","forRoot","ChangeDetectionStrategy","computed","effect","inject","debounceTime","distinctUntilChanged","takeUntil","Subject","FormControl","weatherService","locationService","locationCacheService","forecastCacheService","locationFormControl","seconds","forecastFormControl","destroy$","conditions","locations","map","zip","isShow","getItemValue","data","filter","item","setInitialLocatonFromCache","zipCode","addLocationSignal","addCurrentConditionsObservable","subscribe","addLocation","allowSignalWrites","ngOnInit","setupFormControl","ngOnDestroy","next","complete","resetSignalsValue","removeLocation","switchShow","formControl","cacheService","valueChanges","pipe","value","actualValueFromCache","getData","key","set","changeDetection","OnPush","ActivatedRoute","switchMap","route","forecast$","params","getForecast","Injectable","signal","requestAddLocation","zipcode","includes","update","of","tap","CacheService","_seconds","storageKey","cleanExpiredData","setData","transformLocalStorage","transformToCacheItem","localStorage","setItem","JSON","stringify","addData","currentData","parse","getItem","index","findIndex","cacheItem","newCacheItem","push","removeData","splice","find","getNonExpiredItem","isDateValid","expiration","getDataOrFetch","request","validData","Date","getTime","validDate","providedIn","updatedData","getMapDataOrFetch","Input","standalone","ChangeDetectorRef","ContentChildren","EventEmitter","Output","NgForOf","NgIf","NgTemplateOutlet","tabClose","cdf","ngAfterContentInit","tabs","changes","length","ensureActiveTab","activateTab","tab","activeComponent","closeTab","emit","content","tabsArray","toArray","reset","first","markForCheck","args","HttpClient","catchError","forecastService","http","URL","_3","APPID","_4","ICON_URL","get","WeatherService_1","getWeatherIcon","id","enableProdMode","platformBrowserDynamic","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}